feed-content<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="mainMapper">

	<!--   <resultMap type="edu.kh.project.member.model.vo.Member" id="member"></resultMap> -->
  <resultMap type="Member" id="member_rm">
  
        <!-- DB에서 PK에 해당하는 필드, 컬럼을 작성하는 태그 -->
     <id property = "memberNo" column="MEMBER_NO"/>
     
     <!-- 나머지 일반 컬럼 -->
      <result property="memberEmail" column="MEMBER_EMAIL" />
      <result property="memberPw" column="MEMBER_PW" />
      <result property="memberNickname" column="MEMBER_NICKNAME" />
      <result property="memberProfileImg" column="MEMBER_PROFILE_IMG" />
      <result property="enrollDate" column="ENROLL_DATE" />
      <result property="memberOpenFl" column="MEMBER_OPEN_FL" />
      <result property="secessionFl" column="SECESSION_FL" />
      <result property="authority" column="AUTHORITY" />
      
  </resultMap>
  
  <resultMap type="Board" id="board_rm">
  
        <!-- DB에서 PK에 해당하는 필드, 컬럼을 작성하는 태그 -->
     <id property = "boardNo" column="BOARD_NO"/>
     
     <!-- 나머지 일반 컬럼 -->
      <result property="boardContent" column="BOARD_CONTENT" />
      <result property="boardCreateDate" column="BOARD_CREATE_DATE" />
      <result property="boardDeleteFlag" column="BOARD_DEL_FL" />
      <result property="boardPubPriFlag" column="BOARD_PUB_PRI_FL" />
      <result property="commentBlockFlag" column="COMMENT_BLOCK_FL" />
      <result property="memberNo" column="MEMBER_NO" />
      
  </resultMap>
  
  <resultMap type="Comment" id="comment_rm">
  
        <!-- DB에서 PK에 해당하는 필드, 컬럼을 작성하는 태그 -->
     <id property = "commentNo" column="COMMENT_NO"/>
     
     <!-- 나머지 일반 컬럼 -->
      <result property="commentMemberNo" column="COMMENT_MEMBER_NO" />
      <result property="commentContent" column="COMMENT_CONTENT" />
      <result property="commentCreateDate" column="COMMENT_CREATE_DATE" />
      <result property="boardNo" column="BOARD_NO" />
      <result property="upperCommentNo" column="UPPER_COMMENT_NO" />
      
  </resultMap>
  
  <select id = "login" parameterType="string" resultMap="member_rm">
			SELECT *
			FROM "MEMBER"
			WHERE MEMBER_EMAIL = #{memberEmail}
			AND SECESSION_FL ='N'
  </select>
  
  <insert id="signUp" parameterType="edu.kh.fiesta.member.model.vo.Member">
		  	INSERT INTO "MEMBER"
				VALUES(SEQ_MEMBER_NO.NEXTVAL, #{memberEmail}, #{memberPw}, #{memberName}, #{memberNickname}, NULL, DEFAULT, DEFAULT, DEFAULT, DEFAULT)
  </insert>
  
</mapper>
